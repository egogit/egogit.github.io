---
title: "[FintechMan] 7. Express-session을 활용한 세션관리"
author: egogit
date: '2024-02-11 23:50:00'
categories:
- Project
- FintechMan
tags:
- project
- fintechman
---

![thumbnail](/assets/img/thumbnail/fintechman.png){:  width:"120px " height:"100px" style:"alignCenter" }


## 7일차 개발 내용

1. express-session과 express-mysql-session을 활용한 로그인 세션 관리를 구현하였다.

2. Context를 이용한 전역적인 로그인 상태에 대한 상태 관리를 구현하였다.

[github](https://github.com/egogit/FintechMan/commit/3133c5ae340aed24bf75e37aa56a71349abbed6b)

<br/><br/>
## 알게 된 내용

1. session 관리 과정에 대해 어느정도 알게 되었다.

관련 내용에 대해 다시 한번 정리해봐야겠다.


<br/><br/>
## 발생한 Issue

1. session관리가 계속해서 되지 않는 문제가 발생하였다.

- 내가 사용한 방법은 key를 user로 fix시키고 client측에서도 <mark>axios.defaults.withCredentials = true;</mark>를 이용하여 세션관련 정보를 함께 보내주었더니 어느순간 되는 것을 확인했다. 다른 자료들은 nunjucks나 같은 도메인 상에서의 예시가 대부분이라서 해결책을 찾기가 너무 어려웠던 것 같다. 유튜브를 열심히 뒤져서 필요한 부분에 대해서 채워주었더니 되는 것을 확인할 수 있었다. 시간이 된다면 정확히 어떤 부분이 부족했는지 확인해봐야겠다.

<br/><br/>
## 앞으로 해야하는 내용

1. Sidebar 기능 bug 해결하기 및 관련 코드와 설명 포스팅

2. Bcrypt 등 여러 암호화 방식과 적용방법에 대해 포스팅

3. 모달 창에 관한 포스팅

4. 디렉터리 구조나 코드의 효율화 등 중간 리팩토링 진행하기

5. 여러 세션 관리 방법에 대해 포스팅하기(cookie, session, jwt, passport)

6. 주요 content에 대한 기획 진행해보기

<br/><br/>
## 오늘의 후기

드디어 저번 학기부터 나를 괴롭혀오던 세션관리에 드디어 성공했다. 정말 여러가지를 시도해보고 관련 예시코드도 튜토리얼에서 확인하고 여러 블로그 포스팅을 찾아보고 했음에도 모두 다 같은 도메인 상에서 프런트와 백엔드가 하나로 합쳐진 형태였다. 또한 튜토리얼의 예시코드를 써놓은 곳이 대다수라 해결책을 찾기 너무나 어려웠다. 솔직히 정확히 어떤 부분이 세션관리에 도움이 되는지를 모른 상태로 해결이 되었기에 추가한 부분을 각각 지워보면서 테스트를 해봐야 나중에는 헤매지 않을 것이다. 일단 Sidebar까지만 해결된다면 내가 1차적으로 목표로 한 부분까지는 완성이다. Sidebar가 해결되면 이제 전체적인 구조와 코드의 효율성에 대한 리팩토링을 진행해볼 생각이다. 정보처리기사에서인가 다른 곳에서 리팩토링할 생각하지 말고 처음부터 잘 설계해서 코딩을 하라고 한 것을 본 적이 있지만 나는 아직 초보이기도 하고 내가 구현한 것과 다른 사람이 구현한 코드의 차이를 확인하고 효율성을 고려해보는 시간도 필요하다고 생각하기에 리팩토링 시간을 갖는 것이 필요하다고 생각한다. 이제 곧 메인 컨텐츠를 개발할 수 있을 것이다. 정말 기대된다. 나의 첫 프로젝트이자, 내가 오랫동안 사용할 재테크관리 사이트를 위해 열심히 개발해보자.